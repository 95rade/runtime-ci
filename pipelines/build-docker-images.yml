groups:
- name: build-docker-images
  jobs:
  - trigger-all-image-builds
  - build-announce-rc-docker-image
  - build-can-bump-docker-image
  - build-cannot-bump-docker-image
  - build-create-cf-release-manifest-docker-image
  - build-create-final-release-docker-image
  - build-create-minimal-cf-release-manifest-docker-image
  - build-create-release-docker-image
  - build-create-release-notes-template-docker-image
  - build-delete-deployment-docker-image
  - build-deprovision-bosh-lite-docker-image
  - build-emit-datadog-event-docker-image
  - build-emit-datadog-metric-docker-image
  - build-enable-docker-diego-docker-image
  - build-merge-master-into-develop-docker-image
  - build-multierror-tests-docker-image
  - build-provision-bosh-lite-docker-image
  - build-record-compatible-versions-docker-image
  - build-request-pm-input-docker-image
  - build-run-bosh-cleanup-docker-image
  - build-run-cats-docker-image
  - build-run-cf-release-unit-tests-docker-image
  - build-run-errand-docker-image
  - build-run-smoketests-docker-image
  - build-validate-all-jobs-public-docker-image
  - build-validate-branch-freshness-docker-image
  - build-generate-nats-deployment-manifest-from-bbl-docker-image
  - build-setup-infrastructure-docker-image
  - build-extract-director-creds-from-bbl-docker-image
  - build-destroy-infrastructure-docker-image
  - build-check-deployment-docker-image
  - build-create-bosh-lite-creds-docker-image
  - build-create-bosh-lite-stub-docker-image
  - build-create-diego-manifest-docker-image
  - build-create-bosh-lite-diego-cats-manifest-docker-image
  - build-run-errand-bbl-docker-image
  - build-write-target-file-docker-image
  - build-bosh-deploy-docker-image
  - build-bosh-upload-release-docker-image
  - build-verify-every-task-has-correct-docker-image-docker-image
  - build-verify-every-task-has-docker-build-docker-image
  - build-create-iaas-settings-docker-image
  - build-write-bosh-lite-api-target-file-docker-image
  - build-bind-elb-to-r53-docker-image
  - build-cats-from-cf-release-docker-image
  - build-check-out-fixed-version-docker-image
  - build-bosh-uuid-docker-image

resources:
- name: weekly
  type: time
  source:
    start: 3:00 -0700
    stop: 3:30 -0700
    interval: 168h

- name: trigger-resource
  type: time
  source:
    interval: 2h

- name: runtime-ci-create-iaas-settings
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-iaas-settings/Dockerfile]
- name: runtime-ci-verify-every-task-has-docker-build
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-every-task-has-docker-build/Dockerfile]
- name: runtime-ci-verify-every-task-has-correct-docker-image
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-every-task-has-correct-docker-image/Dockerfile]
- name: runtime-ci-create-bosh-lite-creds
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-creds/Dockerfile]
- name: runtime-ci-create-bosh-lite-stub
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-stub/Dockerfile]
- name: runtime-ci-create-diego-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-diego-manifest/Dockerfile]
- name: runtime-ci-create-bosh-lite-diego-cats-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-diego-cats-manifest/Dockerfile]
- name: runtime-ci-run-errand-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-errand-bbl/Dockerfile]
- name: runtime-ci-write-target-file
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-target-file/Dockerfile]
- name: runtime-ci-bosh-deploy
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-deploy/Dockerfile]
- name: runtime-ci-bosh-upload-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-upload-release/Dockerfile]
- name: runtime-ci-announce-rc
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/announce-rc/Dockerfile]
- name: runtime-ci-can-bump
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/can-bump/Dockerfile]
- name: runtime-ci-cannot-bump
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/cannot-bump/Dockerfile]
- name: runtime-ci-create-cf-release-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-cf-release-manifest/Dockerfile]
- name: runtime-ci-create-final-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-final-release/Dockerfile]
- name: runtime-ci-create-minimal-cf-release-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-minimal-cf-release-manifest/Dockerfile]
- name: runtime-ci-create-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-release/Dockerfile]
- name: runtime-ci-create-release-notes-template
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-release-notes-template/Dockerfile]
- name: runtime-ci-delete-deployment
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/delete-deployment/Dockerfile]
- name: runtime-ci-deprovision-bosh-lite
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/deprovision-bosh-lite/Dockerfile]
- name: runtime-ci-emit-datadog-event
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/emit-datadog-event/Dockerfile]
- name: runtime-ci-emit-datadog-metric
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/emit-datadog-metric/Dockerfile]
- name: runtime-ci-enable-docker-diego
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/enable-docker-diego/Dockerfile]
- name: runtime-ci-merge-master-into-develop
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/merge-master-into-develop/Dockerfile]
- name: runtime-ci-multierror-tests
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/multierror-tests/Dockerfile]
- name: runtime-ci-provision-bosh-lite
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/provision-bosh-lite/Dockerfile]
- name: runtime-ci-record-compatible-versions
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/record-compatible-versions/Dockerfile]
- name: runtime-ci-request-pm-input
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/request-pm-input/Dockerfile]
- name: runtime-ci-run-bosh-cleanup
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-bosh-cleanup/Dockerfile]
- name: runtime-ci-run-cats
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-cats/Dockerfile]
- name: runtime-ci-run-cf-release-unit-tests
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-cf-release-unit-tests/Dockerfile]
- name: runtime-ci-run-errand
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-errand/Dockerfile]
- name: runtime-ci-run-smoketests
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-smoketests/Dockerfile]
- name: runtime-ci-validate-all-jobs-public
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/validate-all-jobs-public/Dockerfile]
- name: runtime-ci-validate-branch-freshness
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/validate-branch-freshness/Dockerfile]
- name: runtime-ci-generate-nats-deployment-manifest-from-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/generate-nats-deployment-manifest-from-bbl/Dockerfile]
- name: runtime-ci-setup-infrastructure
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/setup-infrastructure/Dockerfile]
- name: runtime-ci-extract-director-creds-from-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extract-director-creds-from-bbl/Dockerfile]
- name: runtime-ci-destroy-infrastructure
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/destroy-infrastructure/Dockerfile]
- name: runtime-ci-check-deployment
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/check-deployment/Dockerfile]
- name: runtime-ci-write-bosh-lite-api-target-file
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-bosh-lite-api-target-file/Dockerfile]
- name: runtime-ci-bind-elb-to-r53
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bind-elb-to-r53/Dockerfile]
- name: runtime-ci-cats-from-cf-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/cats-from-cf-release/Dockerfile]
- name: runtime-ci-check-out-fixed-version
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/check-out-fixed-version/Dockerfile]
- name: runtime-ci-bosh-uuid
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-uuid/Dockerfile]

# All the docker images
- name: create-iaas-settings-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-iaas-settings
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: verify-every-task-has-docker-build-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-every-task-has-docker-build
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: verify-every-task-has-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-every-task-has-correct-docker-image
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-creds-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-creds
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-stub-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-stub
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-diego-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-diego-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-diego-cats-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-diego-cats-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-errand-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-errand-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: write-target-file-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-target-file
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-deploy-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-deploy
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-upload-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-upload-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: announce-rc-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/announce-rc
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: can-bump-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/can-bump
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: cannot-bump-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/cannot-bump
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-cf-release-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-cf-release-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-final-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-final-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-minimal-cf-release-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-minimal-cf-release-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-release-notes-template-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-release-notes-template
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: delete-deployment-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/delete-deployment
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: deprovision-bosh-lite-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/deprovision-bosh-lite
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: emit-datadog-event-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/emit-datadog-event
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: emit-datadog-metric-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/emit-datadog-metric
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: enable-docker-diego-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/enable-docker-diego
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: merge-master-into-develop-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/merge-master-into-develop
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: multierror-tests-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/multierror-tests
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: provision-bosh-lite-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/provision-bosh-lite
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: record-compatible-versions-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/record-compatible-versions
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: request-pm-input-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/request-pm-input
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-bosh-cleanup-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-bosh-cleanup
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-cats-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-cats
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-cf-release-unit-tests-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-cf-release-unit-tests
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-errand-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-errand
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-smoketests-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-smoketests
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: validate-all-jobs-public-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/validate-all-jobs-public
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: validate-branch-freshness-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/validate-branch-freshness
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: generate-nats-deployment-manifest-from-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/generate-nats-deployment-manifest-from-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: setup-infrastructure-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/setup-infrastructure
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: extract-director-creds-from-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extract-director-creds-from-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: destroy-infrastructure-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/destroy-infrastructure
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: check-deployment-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/check-deployment
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: write-bosh-lite-api-target-file-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-bosh-lite-api-target-file
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bind-elb-to-r53-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bind-elb-to-r53
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: cats-from-cf-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/cats-from-cf-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: check-out-fixed-version-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/check-out-fixed-version
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-uuid-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-uuid
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

jobs:
- name: trigger-all-image-builds
  public: true
  serial: true
  plan:
  - get: trigger-resource

- name: build-create-iaas-settings-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-iaas-settings
        trigger: true
    - put: create-iaas-settings-pipeline-image
      params:
        build: runtime-ci-create-iaas-settings/scripts/ci/create-iaas-settings
        push: true
- name: build-verify-every-task-has-docker-build-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-every-task-has-docker-build
        trigger: true
    - put: verify-every-task-has-docker-build-pipeline-image
      params:
        build: runtime-ci-verify-every-task-has-docker-build/scripts/ci/verify-every-task-has-docker-build
        push: true
- name: build-verify-every-task-has-correct-docker-image-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-every-task-has-correct-docker-image
        trigger: true
    - put: verify-every-task-has-pipeline-image
      params:
        build: runtime-ci-verify-every-task-has-correct-docker-image/scripts/ci/verify-every-task-has-correct-docker-image
        push: true
- name: build-bosh-deploy-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-deploy
        trigger: true
    - put: bosh-deploy-pipeline-image
      params:
        build: runtime-ci-bosh-deploy/scripts/ci/bosh-deploy
        push: true
- name: build-bosh-upload-release-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-upload-release
        trigger: true
    - put: bosh-upload-release-pipeline-image
      params:
        build: runtime-ci-bosh-upload-release/scripts/ci/bosh-upload-release
        push: true
- name: build-write-target-file-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-target-file
        trigger: true
    - put: write-target-file-pipeline-image
      params:
        build: runtime-ci-write-target-file/scripts/ci/write-target-file
        push: true
- name: build-run-errand-bbl-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-errand-bbl
        trigger: true
    - put: run-errand-bbl-pipeline-image
      params:
        build: runtime-ci-run-errand-bbl/scripts/ci/run-errand-bbl
        push: true
- name: build-create-diego-manifest-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-diego-manifest
        trigger: true
    - put: create-diego-manifest-pipeline-image
      params:
        build: runtime-ci-create-diego-manifest/scripts/ci/create-diego-manifest
        push: true
- name: build-create-bosh-lite-diego-cats-manifest-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-diego-cats-manifest
        trigger: true
    - put: create-bosh-lite-diego-cats-manifest-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-diego-cats-manifest/scripts/ci/create-bosh-lite-diego-cats-manifest
        push: true
- name: build-create-bosh-lite-stub-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-stub
        trigger: true
    - put: create-bosh-lite-stub-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-stub/scripts/ci/create-bosh-lite-stub
        push: true
- name: build-create-bosh-lite-creds-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-creds
        trigger: true
    - put: create-bosh-lite-creds-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-creds/scripts/ci/create-bosh-lite-creds
        push: true
- name: build-announce-rc-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-announce-rc
        trigger: true
    - put: announce-rc-pipeline-image
      params:
        build: runtime-ci-announce-rc/scripts/ci/announce-rc
        push: true
- name: build-can-bump-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-can-bump
        trigger: true
    - put: can-bump-pipeline-image
      params:
        build: runtime-ci-can-bump/scripts/ci/can-bump
        push: true
- name: build-cannot-bump-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-cannot-bump
        trigger: true
    - put: cannot-bump-pipeline-image
      params:
        build: runtime-ci-cannot-bump/scripts/ci/cannot-bump
        push: true
- name: build-create-cf-release-manifest-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-cf-release-manifest
        trigger: true
    - put: create-cf-release-manifest-pipeline-image
      params:
        build: runtime-ci-create-cf-release-manifest/scripts/ci/create-cf-release-manifest
        push: true
- name: build-create-final-release-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-final-release
        trigger: true
    - put: create-final-release-pipeline-image
      params:
        build: runtime-ci-create-final-release/scripts/ci/create-final-release
        push: true
- name: build-create-minimal-cf-release-manifest-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-minimal-cf-release-manifest
        trigger: true
    - put: create-minimal-cf-release-manifest-pipeline-image
      params:
        build: runtime-ci-create-minimal-cf-release-manifest/scripts/ci/create-minimal-cf-release-manifest
        push: true
- name: build-create-release-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-release
        trigger: true
    - put: create-release-pipeline-image
      params:
        build: runtime-ci-create-release/scripts/ci/create-release
        push: true
- name: build-create-release-notes-template-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-release-notes-template
        trigger: true
    - put: create-release-notes-template-pipeline-image
      params:
        build: runtime-ci-create-release-notes-template/scripts/ci/create-release-notes-template
        push: true
- name: build-delete-deployment-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-delete-deployment
        trigger: true
    - put: delete-deployment-pipeline-image
      params:
        build: runtime-ci-delete-deployment/scripts/ci/delete-deployment
        push: true
- name: build-deprovision-bosh-lite-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-deprovision-bosh-lite
        trigger: true
    - put: deprovision-bosh-lite-pipeline-image
      params:
        build: runtime-ci-deprovision-bosh-lite/scripts/ci/deprovision-bosh-lite
        push: true
- name: build-emit-datadog-event-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-emit-datadog-event
        trigger: true
    - put: emit-datadog-event-pipeline-image
      params:
        build: runtime-ci-emit-datadog-event/scripts/ci/emit-datadog-event
        push: true
- name: build-emit-datadog-metric-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-emit-datadog-metric
        trigger: true
    - put: emit-datadog-metric-pipeline-image
      params:
        build: runtime-ci-emit-datadog-metric/scripts/ci/emit-datadog-metric
        push: true
- name: build-enable-docker-diego-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-enable-docker-diego
        trigger: true
    - put: enable-docker-diego-pipeline-image
      params:
        build: runtime-ci-enable-docker-diego/scripts/ci/enable-docker-diego
        push: true
- name: build-merge-master-into-develop-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-merge-master-into-develop
        trigger: true
    - put: merge-master-into-develop-pipeline-image
      params:
        build: runtime-ci-merge-master-into-develop/scripts/ci/merge-master-into-develop
        push: true
- name: build-multierror-tests-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-multierror-tests
        trigger: true
    - put: multierror-tests-pipeline-image
      params:
        build: runtime-ci-multierror-tests/scripts/ci/multierror-tests
        push: true
- name: build-provision-bosh-lite-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-provision-bosh-lite
        trigger: true
    - put: provision-bosh-lite-pipeline-image
      params:
        build: runtime-ci-provision-bosh-lite/scripts/ci/provision-bosh-lite
        push: true
- name: build-record-compatible-versions-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-record-compatible-versions
        trigger: true
    - put: record-compatible-versions-pipeline-image
      params:
        build: runtime-ci-record-compatible-versions/scripts/ci/record-compatible-versions
        push: true
- name: build-request-pm-input-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-request-pm-input
        trigger: true
    - put: request-pm-input-pipeline-image
      params:
        build: runtime-ci-request-pm-input/scripts/ci/request-pm-input
        push: true
- name: build-run-bosh-cleanup-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-bosh-cleanup
        trigger: true
    - put: run-bosh-cleanup-pipeline-image
      params:
        build: runtime-ci-run-bosh-cleanup/scripts/ci/run-bosh-cleanup
        push: true
- name: build-run-cats-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-cats
        trigger: true
    - put: run-cats-pipeline-image
      params:
        build: runtime-ci-run-cats/scripts/ci/run-cats
        push: true
- name: build-run-cf-release-unit-tests-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-cf-release-unit-tests
        trigger: true
    - put: run-cf-release-unit-tests-pipeline-image
      params:
        build: runtime-ci-run-cf-release-unit-tests/scripts/ci/run-cf-release-unit-tests
        push: true
- name: build-run-errand-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-errand
        trigger: true
    - put: run-errand-pipeline-image
      params:
        build: runtime-ci-run-errand/scripts/ci/run-errand
        push: true
- name: build-run-smoketests-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-smoketests
        trigger: true
    - put: run-smoketests-pipeline-image
      params:
        build: runtime-ci-run-smoketests/scripts/ci/run-smoketests
        push: true
- name: build-validate-all-jobs-public-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-validate-all-jobs-public
        trigger: true
    - put: validate-all-jobs-public-pipeline-image
      params:
        build: runtime-ci-validate-all-jobs-public/scripts/ci/validate-all-jobs-public
        push: true
- name: build-validate-branch-freshness-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-validate-branch-freshness
        trigger: true
    - put: validate-branch-freshness-pipeline-image
      params:
        build: runtime-ci-validate-branch-freshness/scripts/ci/validate-branch-freshness
        push: true
- name: build-generate-nats-deployment-manifest-from-bbl-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-generate-nats-deployment-manifest-from-bbl
        trigger: true
    - put: generate-nats-deployment-manifest-from-bbl-pipeline-image
      params:
        build: runtime-ci-generate-nats-deployment-manifest-from-bbl/scripts/ci/generate-nats-deployment-manifest-from-bbl
        push: true
- name: build-setup-infrastructure-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-setup-infrastructure
        trigger: true
    - put: setup-infrastructure-pipeline-image
      params:
        build: runtime-ci-setup-infrastructure/scripts/ci/setup-infrastructure
        push: true
- name: build-extract-director-creds-from-bbl-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extract-director-creds-from-bbl
        trigger: true
    - put: extract-director-creds-from-bbl-pipeline-image
      params:
        build: runtime-ci-extract-director-creds-from-bbl/scripts/ci/extract-director-creds-from-bbl
        push: true
- name: build-destroy-infrastructure-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-destroy-infrastructure
        trigger: true
    - put: destroy-infrastructure-pipeline-image
      params:
        build: runtime-ci-destroy-infrastructure/scripts/ci/destroy-infrastructure
        push: true
- name: build-check-deployment-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-check-deployment
        trigger: true
    - put: check-deployment-pipeline-image
      params:
        build: runtime-ci-check-deployment/scripts/ci/check-deployment
        push: true
- name: build-write-bosh-lite-api-target-file-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-bosh-lite-api-target-file
        trigger: true
    - put: write-bosh-lite-api-target-file-pipeline-image
      params:
        build: runtime-ci-write-bosh-lite-api-target-file/scripts/ci/write-bosh-lite-api-target-file
        push: true
- name: build-bind-elb-to-r53-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bind-elb-to-r53
        trigger: true
    - put: bind-elb-to-r53-pipeline-image
      params:
        build: runtime-ci-bind-elb-to-r53/scripts/ci/bind-elb-to-r53
        push: true
- name: build-cats-from-cf-release-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-cats-from-cf-release
        trigger: true
    - put: cats-from-cf-release-pipeline-image
      params:
        build: runtime-ci-cats-from-cf-release/scripts/ci/cats-from-cf-release
        push: true
- name: build-check-out-fixed-version-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-check-out-fixed-version
        trigger: true
    - put: check-out-fixed-version-pipeline-image
      params:
        build: runtime-ci-check-out-fixed-version/scripts/ci/check-out-fixed-version
        push: true
- name: build-bosh-uuid-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-uuid
        trigger: true
    - put: bosh-uuid-pipeline-image
      params:
        build: runtime-ci-bosh-uuid/scripts/ci/bosh-uuid
        push: true

