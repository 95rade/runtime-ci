groups:
- name: build-docker-images
  jobs:
  - trigger-all-image-builds
  - build-announce-rc-docker-image
  - build-can-bump-docker-image
  - build-cannot-bump-docker-image
  - build-generate-release-manifest-docker-image
  - build-create-final-release-docker-image
  - build-create-minimal-cf-release-manifest-docker-image
  - build-create-release-docker-image
  - build-create-release-notes-template-docker-image
  - build-delete-deployment-docker-image
  - build-delete-deployment-bosh-2-0-docker-image
  - build-deprovision-bosh-lite-docker-image
  - build-enable-docker-diego-docker-image
  - build-merge-master-into-develop-docker-image
  - build-provision-bosh-lite-docker-image
  - build-record-compatible-versions-docker-image
  - build-request-pm-input-docker-image
  - build-run-bosh-cleanup-docker-image
  - build-run-cats-docker-image
  - build-run-cf-release-unit-tests-docker-image
  - build-run-errand-docker-image
  - build-run-smoketests-docker-image
  - build-validate-all-jobs-public-docker-image
  - build-validate-branch-freshness-docker-image
  - build-generate-nats-deployment-manifest-docker-image
  - build-generate-1-0-nats-deployment-manifest-from-bbl-docker-image
  - build-setup-infrastructure-docker-image
  - build-extract-director-creds-from-terraform-env-docker-image
  - build-extract-director-creds-from-bbl-docker-image
  - build-destroy-infrastructure-docker-image
  - build-check-deployment-docker-image
  - build-create-bosh-lite-creds-docker-image
  - build-create-bosh-lite-stub-docker-image
  - build-create-diego-manifest-docker-image
  - build-create-diego-manifest-with-config-docker-image
  - build-create-bosh-lite-diego-cats-manifest-docker-image
  - build-run-errand-bbl-docker-image
  - build-run-errand-bbl-bosh-2-0-docker-image
  - build-write-target-file-docker-image
  - build-write-creds-docker-image
  - build-bosh-deploy-docker-image
  - build-bosh-deploy-with-created-release-docker-image
  - build-bosh-create-env-docker-image
  - build-bosh-upload-release-docker-image
  - build-bosh-upload-stemcell-docker-image
  - build-bosh-upload-stemcell-1-0-docker-image
  - build-bosh-update-cloud-config-docker-image
  - build-verify-every-task-has-correct-docker-image-docker-image
  - build-verify-every-task-has-docker-build-docker-image
  - build-verify-every-task-is-used-in-a-pipeline-docker-image
  - build-create-diego-iaas-settings-docker-image
  - build-bind-elb-to-r53-docker-image
  - build-bind-terraform-env-to-r53-docker-image
  - build-unbind-elb-from-r53-docker-image
  - build-cats-from-cf-release-docker-image
  - build-run-ginkgo-docker-image
  - build-recreate-datadog-dashboards-docker-image
  - build-extend-bosh-lite-diego-stub-docker-image
  - build-extract-cloudformation-properties-docker-image
  - build-create-binaries-manifest-section-docker-image
  - build-extend-deployment-manifest-with-security-groups-and-elb-docker-image
  - build-commit-generated-manifest-docker-image
  - build-fast-forward-master-to-develop-docker-image
  - build-create-final-release-bucket-docker-image
  - build-verify-nameserver-has-record-docker-image
  - build-write-build-url-docker-image
  - build-write-director-version-docker-image
  - build-untar-release-docker-image
  - build-build-metadata-resource-docker-image
  - build-setup-infrastructure-terraform-docker-image
  - build-create-gcp-bosh-director-docker-image
  - build-destroy-gcp-bosh-director-docker-image
  - build-update-gcp-cloud-config-docker-image

resources:
- name: weekly
  type: time
  source:
    start: 3:00 -0700
    stop: 3:30 -0700
    interval: 168h

- name: trigger-resource
  type: time
  source:
    interval: 2h

- name: runtime-ci-build-metadata-resource
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [resources/build-metadata-resource/*]

- name: runtime-ci-create-diego-iaas-settings
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-diego-iaas-settings/Dockerfile]
- name: runtime-ci-verify-every-task-has-docker-build
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-every-task-has-docker-build/Dockerfile]
- name: runtime-ci-verify-every-task-is-used-in-a-pipeline
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-every-task-is-used-in-a-pipeline/Dockerfile]
- name: runtime-ci-verify-every-task-has-correct-docker-image
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-every-task-has-correct-docker-image/Dockerfile]
- name: runtime-ci-create-bosh-lite-creds
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-creds/Dockerfile]
- name: runtime-ci-create-bosh-lite-stub
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-stub/Dockerfile]
- name: runtime-ci-create-diego-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-diego-manifest/Dockerfile]
- name: runtime-ci-create-diego-manifest-with-config
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-diego-manifest-with-config/Dockerfile]
- name: runtime-ci-create-bosh-lite-diego-cats-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-bosh-lite-diego-cats-manifest/Dockerfile]
- name: runtime-ci-run-errand-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-errand-bbl/Dockerfile]
- name: runtime-ci-run-errand-bbl-bosh-2-0
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-errand-bbl-bosh-2-0/Dockerfile]
- name: runtime-ci-write-target-file
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-target-file/Dockerfile]
- name: runtime-ci-write-creds
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-creds/Dockerfile]
- name: runtime-ci-bosh-deploy-with-created-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-deploy-with-created-release/Dockerfile]
- name: runtime-ci-bosh-create-env
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-create-env/Dockerfile]
- name: runtime-ci-bosh-deploy
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-deploy/Dockerfile]
- name: runtime-ci-bosh-upload-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-upload-release/Dockerfile]
- name: runtime-ci-bosh-upload-stemcell
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-upload-stemcell/Dockerfile]
- name: runtime-ci-bosh-upload-stemcell-1-0
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-upload-stemcell-1-0/Dockerfile]
- name: runtime-ci-bosh-update-cloud-config
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bosh-update-cloud-config/Dockerfile]
- name: runtime-ci-announce-rc
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/announce-rc/Dockerfile]
- name: runtime-ci-can-bump
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/can-bump/Dockerfile]
- name: runtime-ci-cannot-bump
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/cannot-bump/Dockerfile]
- name: runtime-ci-generate-release-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/generate-release-manifest/Dockerfile]
- name: runtime-ci-create-final-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-final-release/Dockerfile]
- name: runtime-ci-create-minimal-cf-release-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-minimal-cf-release-manifest/Dockerfile]
- name: runtime-ci-create-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-release/Dockerfile]
- name: runtime-ci-create-release-notes-template
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-release-notes-template/Dockerfile]
- name: runtime-ci-delete-deployment
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/delete-deployment/Dockerfile]
- name: runtime-ci-delete-deployment-bosh-2-0
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/delete-deployment-bosh-2-0/Dockerfile]
- name: runtime-ci-deprovision-bosh-lite
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/deprovision-bosh-lite/Dockerfile]
- name: runtime-ci-enable-docker-diego
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/enable-docker-diego/Dockerfile]
- name: runtime-ci-merge-master-into-develop
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/merge-master-into-develop/Dockerfile]
- name: runtime-ci-provision-bosh-lite
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/provision-bosh-lite/Dockerfile]
- name: runtime-ci-record-compatible-versions
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/record-compatible-versions/Dockerfile]
- name: runtime-ci-request-pm-input
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/request-pm-input/Dockerfile]
- name: runtime-ci-run-bosh-cleanup
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-bosh-cleanup/Dockerfile]
- name: runtime-ci-run-cats
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-cats]
- name: runtime-ci-run-cf-release-unit-tests
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-cf-release-unit-tests/Dockerfile]
- name: runtime-ci-run-errand
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-errand/Dockerfile]
- name: runtime-ci-run-smoketests
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-smoketests/Dockerfile]
- name: runtime-ci-validate-all-jobs-public
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/validate-all-jobs-public/Dockerfile]
- name: runtime-ci-validate-branch-freshness
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/validate-branch-freshness/Dockerfile]
- name: runtime-ci-generate-nats-deployment-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/generate-nats-deployment-manifest/Dockerfile]
- name: runtime-ci-generate-1-0-nats-deployment-manifest-from-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/generate-1-0-nats-deployment-manifest-from-bbl/Dockerfile]
- name: runtime-ci-setup-infrastructure
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/setup-infrastructure/Dockerfile]
- name: runtime-ci-extract-director-creds-from-bbl
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extract-director-creds-from-bbl/Dockerfile]
- name: runtime-ci-extract-director-creds-from-terraform-env
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extract-director-creds-from-terraform-env/Dockerfile]
- name: runtime-ci-destroy-infrastructure
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/destroy-infrastructure/Dockerfile]
- name: runtime-ci-check-deployment
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/check-deployment/Dockerfile]
- name: runtime-ci-bind-elb-to-r53
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bind-elb-to-r53/Dockerfile]
- name: runtime-ci-bind-terraform-env-to-r53
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/bind-terraform-env-to-r53/Dockerfile]
- name: runtime-ci-unbind-elb-from-r53
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/unbind-elb-from-r53/Dockerfile]
- name: runtime-ci-cats-from-cf-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/cats-from-cf-release/Dockerfile]
- name: runtime-ci-run-ginkgo
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/run-ginkgo/Dockerfile]
- name: runtime-ci-recreate-datadog-dashboards
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/recreate-datadog-dashboards/Dockerfile]
- name: runtime-ci-extend-bosh-lite-diego-stub
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extend-bosh-lite-diego-stub/Dockerfile]

- name: runtime-ci-create-binaries-manifest-section
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-binaries-manifest-section/Dockerfile]

- name: runtime-ci-extract-cloudformation-properties
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extract-cloudformation-properties/Dockerfile]

- name: runtime-ci-extend-deployment-manifest-with-security-groups-and-elb
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/extend-deployment-manifest-with-security-groups-and-elb/Dockerfile]

- name: runtime-ci-commit-generated-manifest
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/commit-generated-manifest/Dockerfile]

- name: runtime-ci-fast-forward-master-to-develop
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/fast-forward-master-to-develop/Dockerfile]

- name: runtime-ci-create-final-release-bucket
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-final-release-bucket/Dockerfile]

- name: runtime-ci-write-build-url
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-build-url/Dockerfile]

- name: runtime-ci-verify-nameserver-has-record
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/verify-nameserver-has-record/Dockerfile]

- name: runtime-ci-write-director-version
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/write-director-version/Dockerfile]

- name: runtime-ci-untar-release
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/untar-release/Dockerfile]

- name: runtime-ci-setup-infrastructure-terraform
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/setup-infrastructure-terraform/Dockerfile]

- name: runtime-ci-create-gcp-bosh-director
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/create-gcp-bosh-director/Dockerfile]

- name: runtime-ci-destroy-gcp-bosh-director
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/destroy-gcp-bosh-director/Dockerfile]

- name: runtime-ci-update-gcp-cloud-config
  type: git
  source:
    branch: master
    uri: https://github.com/cloudfoundry/runtime-ci.git
    paths: [scripts/ci/update-gcp-cloud-config/Dockerfile]

- name: cf-cli
  type: github-release
  source:
    user: cloudfoundry
    repository: cli
    access_token: {{release_integration_download_bot_access_token}}

  # All the docker images
- name: create-diego-iaas-settings-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-diego-iaas-settings
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: verify-every-task-has-docker-build-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-every-task-has-docker-build
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: verify-every-task-is-used-in-a-pipeline-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-every-task-is-used-in-a-pipeline
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: verify-every-task-has-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-every-task-has-correct-docker-image
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-creds-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-creds
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-stub-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-stub
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-diego-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-diego-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-diego-manifest-with-config-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-diego-manifest-with-config
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-bosh-lite-diego-cats-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-bosh-lite-diego-cats-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-errand-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-errand-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-errand-bbl-bosh-2-0-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-errand-bbl-bosh-2-0
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: write-target-file-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-target-file
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: write-creds-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-creds
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-create-env-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-create-env
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-deploy-with-created-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-deploy-with-created-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-deploy-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-deploy
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-upload-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-upload-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bosh-upload-stemcell-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-upload-stemcell
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-stemcell-integration+dockerhub-push-bot@pivotal.io
- name: bosh-upload-stemcell-1-0-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-upload-stemcell-1-0
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-stemcell-integration+dockerhub-push-bot@pivotal.io
- name: bosh-update-cloud-config-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bosh-update-cloud-config
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-stemcell-integration+dockerhub-push-bot@pivotal.io
- name: announce-rc-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/announce-rc
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: can-bump-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/can-bump
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: cannot-bump-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/cannot-bump
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: generate-release-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/generate-release-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-final-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-final-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-minimal-cf-release-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-minimal-cf-release-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: create-release-notes-template-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-release-notes-template
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: delete-deployment-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/delete-deployment
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: delete-deployment-bosh-2-0-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/delete-deployment-bosh-2-0
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: deprovision-bosh-lite-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/deprovision-bosh-lite
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: enable-docker-diego-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/enable-docker-diego
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: merge-master-into-develop-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/merge-master-into-develop
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: provision-bosh-lite-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/provision-bosh-lite
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: record-compatible-versions-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/record-compatible-versions
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: request-pm-input-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/request-pm-input
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-bosh-cleanup-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-bosh-cleanup
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-cats-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-cats
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-cf-release-unit-tests-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-cf-release-unit-tests
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-errand-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-errand
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-smoketests-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-smoketests
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: validate-all-jobs-public-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/validate-all-jobs-public
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: validate-branch-freshness-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/validate-branch-freshness
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: generate-nats-deployment-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/generate-nats-deployment-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: generate-1-0-nats-deployment-manifest-from-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/generate-1-0-nats-deployment-manifest-from-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: setup-infrastructure-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/setup-infrastructure
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: extract-director-creds-from-bbl-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extract-director-creds-from-bbl
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: extract-director-creds-from-terraform-env-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extract-director-creds-from-terraform-env
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: destroy-infrastructure-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/destroy-infrastructure
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: check-deployment-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/check-deployment
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bind-elb-to-r53-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bind-elb-to-r53
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: bind-terraform-env-to-r53-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/bind-terraform-env-to-r53
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: unbind-elb-from-r53-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/unbind-elb-from-r53
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: cats-from-cf-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/cats-from-cf-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: run-ginkgo-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/run-ginkgo
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: recreate-datadog-dashboards-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/recreate-datadog-dashboards
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io
- name: extend-bosh-lite-diego-stub-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extend-bosh-lite-diego-stub
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: create-binaries-manifest-section-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-binaries-manifest-section
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: extract-cloudformation-properties-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extract-cloudformation-properties
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: extend-deployment-manifest-with-security-groups-and-elb-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/extend-deployment-manifest-with-security-groups-and-elb
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: commit-generated-manifest-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/commit-generated-manifest
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: fast-forward-master-to-develop-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/fast-forward-master-to-develop
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: create-final-release-bucket-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-final-release-bucket
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: write-build-url-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-build-url
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: verify-nameserver-has-record-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/verify-nameserver-has-record
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: write-director-version-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/write-director-version
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: untar-release-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/untar-release
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: build-metadata-resource-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/build-metadata-resource
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: setup-infrastructure-terraform-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/setup-infrastructure-terraform
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: create-gcp-bosh-director-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/create-gcp-bosh-director
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: destroy-gcp-bosh-director-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/destroy-gcp-bosh-director
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

- name: update-gcp-cloud-config-pipeline-image
  type: docker-image
  source:
    repository: relintdockerhubpushbot/update-gcp-cloud-config
    username: {{dockerhub_username}}
    password: {{dockerhub_password}}
    email: cf-release-integration+dockerhub-push-bot@pivotal.io

jobs:
- name: trigger-all-image-builds
  public: true
  serial: true
  build_logs_to_retain: 100
  plan:
  - get: trigger-resource

- name: build-create-diego-iaas-settings-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-diego-iaas-settings
        trigger: true
    - put: create-diego-iaas-settings-pipeline-image
      params:
        build: runtime-ci-create-diego-iaas-settings/scripts/ci/create-diego-iaas-settings
        push: true
- name: build-verify-every-task-has-docker-build-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-every-task-has-docker-build
        trigger: true
    - put: verify-every-task-has-docker-build-pipeline-image
      params:
        build: runtime-ci-verify-every-task-has-docker-build/scripts/ci/verify-every-task-has-docker-build
        push: true
- name: build-verify-every-task-is-used-in-a-pipeline-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-every-task-is-used-in-a-pipeline
        trigger: true
    - put: verify-every-task-is-used-in-a-pipeline-pipeline-image
      params:
        build: runtime-ci-verify-every-task-is-used-in-a-pipeline/scripts/ci/verify-every-task-is-used-in-a-pipeline
        push: true
- name: build-verify-every-task-has-correct-docker-image-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-every-task-has-correct-docker-image
        trigger: true
    - put: verify-every-task-has-pipeline-image
      params:
        build: runtime-ci-verify-every-task-has-correct-docker-image/scripts/ci/verify-every-task-has-correct-docker-image
        push: true
- name: build-bosh-deploy-with-created-release-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-deploy-with-created-release
        trigger: true
    - put: bosh-deploy-with-created-release-pipeline-image
      params:
        build: runtime-ci-bosh-deploy-with-created-release/scripts/ci/bosh-deploy-with-created-release
        push: true
- name: build-bosh-create-env-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-create-env
        trigger: true
    - put: bosh-create-env-pipeline-image
      params:
        build: runtime-ci-bosh-create-env/scripts/ci/bosh-create-env
        push: true
- name: build-bosh-deploy-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-deploy
        trigger: true
    - put: bosh-deploy-pipeline-image
      params:
        build: runtime-ci-bosh-deploy/scripts/ci/bosh-deploy
        push: true
- name: build-bosh-upload-release-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-upload-release
        trigger: true
    - put: bosh-upload-release-pipeline-image
      params:
        build: runtime-ci-bosh-upload-release/scripts/ci/bosh-upload-release
        push: true
- name: build-bosh-upload-stemcell-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-upload-stemcell
        trigger: true
    - put: bosh-upload-stemcell-pipeline-image
      params:
        build: runtime-ci-bosh-upload-stemcell/scripts/ci/bosh-upload-stemcell
        push: true
- name: build-bosh-upload-stemcell-1-0-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-upload-stemcell-1-0
        trigger: true
    - put: bosh-upload-stemcell-1-0-pipeline-image
      params:
        build: runtime-ci-bosh-upload-stemcell-1-0/scripts/ci/bosh-upload-stemcell-1-0
        push: true
- name: build-bosh-update-cloud-config-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bosh-update-cloud-config
        trigger: true
    - put: bosh-update-cloud-config-pipeline-image
      params:
        build: runtime-ci-bosh-update-cloud-config/scripts/ci/bosh-update-cloud-config
        push: true
- name: build-write-target-file-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-target-file
        trigger: true
    - put: write-target-file-pipeline-image
      params:
        build: runtime-ci-write-target-file/scripts/ci/write-target-file
        push: true
- name: build-write-creds-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-creds
        trigger: true
    - put: write-creds-pipeline-image
      params:
        build: runtime-ci-write-creds/scripts/ci/write-creds
        push: true
- name: build-run-errand-bbl-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-errand-bbl
        trigger: true
    - put: run-errand-bbl-pipeline-image
      params:
        build: runtime-ci-run-errand-bbl/scripts/ci/run-errand-bbl
        push: true
- name: build-run-errand-bbl-bosh-2-0-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-errand-bbl-bosh-2-0
        trigger: true
    - put: run-errand-bbl-bosh-2-0-pipeline-image
      params:
        build: runtime-ci-run-errand-bbl-bosh-2-0/scripts/ci/run-errand-bbl-bosh-2-0
        push: true
- name: build-create-diego-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-diego-manifest
        trigger: true
    - put: create-diego-manifest-pipeline-image
      params:
        build: runtime-ci-create-diego-manifest/scripts/ci/create-diego-manifest
        push: true
- name: build-create-diego-manifest-with-config-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-diego-manifest-with-config
        trigger: true
    - put: create-diego-manifest-with-config-pipeline-image
      params:
        build: runtime-ci-create-diego-manifest-with-config/scripts/ci/create-diego-manifest-with-config
        push: true
- name: build-create-bosh-lite-diego-cats-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-diego-cats-manifest
        trigger: true
    - put: create-bosh-lite-diego-cats-manifest-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-diego-cats-manifest/scripts/ci/create-bosh-lite-diego-cats-manifest
        push: true
- name: build-create-bosh-lite-stub-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-stub
        trigger: true
    - put: create-bosh-lite-stub-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-stub/scripts/ci/create-bosh-lite-stub
        push: true
- name: build-create-bosh-lite-creds-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-bosh-lite-creds
        trigger: true
    - put: create-bosh-lite-creds-pipeline-image
      params:
        build: runtime-ci-create-bosh-lite-creds/scripts/ci/create-bosh-lite-creds
        push: true
- name: build-announce-rc-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-announce-rc
        trigger: true
    - put: announce-rc-pipeline-image
      params:
        build: runtime-ci-announce-rc/scripts/ci/announce-rc
        push: true
- name: build-can-bump-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-can-bump
        trigger: true
    - put: can-bump-pipeline-image
      params:
        build: runtime-ci-can-bump/scripts/ci/can-bump
        push: true
- name: build-cannot-bump-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-cannot-bump
        trigger: true
    - put: cannot-bump-pipeline-image
      params:
        build: runtime-ci-cannot-bump/scripts/ci/cannot-bump
        push: true
- name: build-generate-release-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-generate-release-manifest
        trigger: true
    - put: generate-release-manifest-pipeline-image
      params:
        build: runtime-ci-generate-release-manifest/scripts/ci/generate-release-manifest
        push: true
- name: build-create-final-release-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-final-release
        trigger: true
    - put: create-final-release-pipeline-image
      params:
        build: runtime-ci-create-final-release/scripts/ci/create-final-release
        push: true
- name: build-create-minimal-cf-release-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-minimal-cf-release-manifest
        trigger: true
    - put: create-minimal-cf-release-manifest-pipeline-image
      params:
        build: runtime-ci-create-minimal-cf-release-manifest/scripts/ci/create-minimal-cf-release-manifest
        push: true
- name: build-create-release-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-release
        trigger: true
    - put: create-release-pipeline-image
      params:
        build: runtime-ci-create-release/scripts/ci/create-release
        push: true
- name: build-create-release-notes-template-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-release-notes-template
        trigger: true
    - put: create-release-notes-template-pipeline-image
      params:
        build: runtime-ci-create-release-notes-template/scripts/ci/create-release-notes-template
        push: true
- name: build-delete-deployment-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-delete-deployment
        trigger: true
    - put: delete-deployment-pipeline-image
      params:
        build: runtime-ci-delete-deployment/scripts/ci/delete-deployment
        push: true
- name: build-delete-deployment-bosh-2-0-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-delete-deployment-bosh-2-0
        trigger: true
    - put: delete-deployment-bosh-2-0-pipeline-image
      params:
        build: runtime-ci-delete-deployment-bosh-2-0/scripts/ci/delete-deployment-bosh-2-0
        push: true
- name: build-deprovision-bosh-lite-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-deprovision-bosh-lite
        trigger: true
    - put: deprovision-bosh-lite-pipeline-image
      params:
        build: runtime-ci-deprovision-bosh-lite/scripts/ci/deprovision-bosh-lite
        push: true
- name: build-enable-docker-diego-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-enable-docker-diego
        trigger: true
    - put: enable-docker-diego-pipeline-image
      params:
        build: runtime-ci-enable-docker-diego/scripts/ci/enable-docker-diego
        push: true
- name: build-merge-master-into-develop-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-merge-master-into-develop
        trigger: true
    - put: merge-master-into-develop-pipeline-image
      params:
        build: runtime-ci-merge-master-into-develop/scripts/ci/merge-master-into-develop
        push: true
- name: build-provision-bosh-lite-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-provision-bosh-lite
        trigger: true
    - put: provision-bosh-lite-pipeline-image
      params:
        build: runtime-ci-provision-bosh-lite/scripts/ci/provision-bosh-lite
        push: true
- name: build-record-compatible-versions-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-record-compatible-versions
        trigger: true
    - put: record-compatible-versions-pipeline-image
      params:
        build: runtime-ci-record-compatible-versions/scripts/ci/record-compatible-versions
        push: true
- name: build-request-pm-input-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-request-pm-input
        trigger: true
    - put: request-pm-input-pipeline-image
      params:
        build: runtime-ci-request-pm-input/scripts/ci/request-pm-input
        push: true
- name: build-run-bosh-cleanup-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-bosh-cleanup
        trigger: true
    - put: run-bosh-cleanup-pipeline-image
      params:
        build: runtime-ci-run-bosh-cleanup/scripts/ci/run-bosh-cleanup
        push: true

- name: build-run-cats-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-cats
        trigger: true
      - get: cf-cli
        trigger: true
    - put: run-cats-pipeline-image
      params:
        build: runtime-ci-run-cats/scripts/ci/run-cats
        push: true

- name: build-run-cf-release-unit-tests-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-cf-release-unit-tests
        trigger: true
    - put: run-cf-release-unit-tests-pipeline-image
      params:
        build: runtime-ci-run-cf-release-unit-tests/scripts/ci/run-cf-release-unit-tests
        push: true
- name: build-run-errand-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-errand
        trigger: true
    - put: run-errand-pipeline-image
      params:
        build: runtime-ci-run-errand/scripts/ci/run-errand
        push: true
- name: build-run-smoketests-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-smoketests
        trigger: true
    - put: run-smoketests-pipeline-image
      params:
        build: runtime-ci-run-smoketests/scripts/ci/run-smoketests
        push: true
- name: build-validate-all-jobs-public-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-validate-all-jobs-public
        trigger: true
    - put: validate-all-jobs-public-pipeline-image
      params:
        build: runtime-ci-validate-all-jobs-public/scripts/ci/validate-all-jobs-public
        push: true
- name: build-validate-branch-freshness-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-validate-branch-freshness
        trigger: true
    - put: validate-branch-freshness-pipeline-image
      params:
        build: runtime-ci-validate-branch-freshness/scripts/ci/validate-branch-freshness
        push: true
- name: build-generate-nats-deployment-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-generate-nats-deployment-manifest
        trigger: true
    - put: generate-nats-deployment-manifest-pipeline-image
      params:
        build: runtime-ci-generate-nats-deployment-manifest/scripts/ci/generate-nats-deployment-manifest
        push: true
- name: build-generate-1-0-nats-deployment-manifest-from-bbl-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-generate-1-0-nats-deployment-manifest-from-bbl
        trigger: true
    - put: generate-1-0-nats-deployment-manifest-from-bbl-pipeline-image
      params:
        build: runtime-ci-generate-1-0-nats-deployment-manifest-from-bbl/scripts/ci/generate-1-0-nats-deployment-manifest-from-bbl
        push: true
- name: build-setup-infrastructure-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-setup-infrastructure
        trigger: true
    - put: setup-infrastructure-pipeline-image
      params:
        build: runtime-ci-setup-infrastructure/scripts/ci/setup-infrastructure
        push: true
- name: build-extract-director-creds-from-bbl-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extract-director-creds-from-bbl
        trigger: true
    - put: extract-director-creds-from-bbl-pipeline-image
      params:
        build: runtime-ci-extract-director-creds-from-bbl/scripts/ci/extract-director-creds-from-bbl
        push: true
- name: build-extract-director-creds-from-terraform-env-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extract-director-creds-from-terraform-env
        trigger: true
    - put: extract-director-creds-from-terraform-env-pipeline-image
      params:
        build: runtime-ci-extract-director-creds-from-terraform-env/scripts/ci/extract-director-creds-from-terraform-env
        push: true
- name: build-destroy-infrastructure-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-destroy-infrastructure
        trigger: true
    - put: destroy-infrastructure-pipeline-image
      params:
        build: runtime-ci-destroy-infrastructure/scripts/ci/destroy-infrastructure
        push: true
- name: build-check-deployment-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-check-deployment
        trigger: true
    - put: check-deployment-pipeline-image
      params:
        build: runtime-ci-check-deployment/scripts/ci/check-deployment
        push: true
- name: build-bind-elb-to-r53-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bind-elb-to-r53
        trigger: true
    - put: bind-elb-to-r53-pipeline-image
      params:
        build: runtime-ci-bind-elb-to-r53/scripts/ci/bind-elb-to-r53
        push: true
- name: build-bind-terraform-env-to-r53-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-bind-terraform-env-to-r53
        trigger: true
    - put: bind-terraform-env-to-r53-pipeline-image
      params:
        build: runtime-ci-bind-terraform-env-to-r53/scripts/ci/bind-terraform-env-to-r53
        push: true
- name: build-unbind-elb-from-r53-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-unbind-elb-from-r53
        trigger: true
    - put: unbind-elb-from-r53-pipeline-image
      params:
        build: runtime-ci-unbind-elb-from-r53/scripts/ci/unbind-elb-from-r53
        push: true
- name: build-cats-from-cf-release-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-cats-from-cf-release
        trigger: true
    - put: cats-from-cf-release-pipeline-image
      params:
        build: runtime-ci-cats-from-cf-release/scripts/ci/cats-from-cf-release
        push: true

- name: build-run-ginkgo-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-run-ginkgo
        trigger: true
    - put: run-ginkgo-pipeline-image
      params:
        build: runtime-ci-run-ginkgo/scripts/ci/run-ginkgo
        push: true

- name: build-recreate-datadog-dashboards-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-recreate-datadog-dashboards
        trigger: true
    - put: recreate-datadog-dashboards-pipeline-image
      params:
        build: runtime-ci-recreate-datadog-dashboards/scripts/ci/recreate-datadog-dashboards
        push: true

- name: build-extend-bosh-lite-diego-stub-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extend-bosh-lite-diego-stub
        trigger: true
    - put: extend-bosh-lite-diego-stub-pipeline-image
      params:
        build: runtime-ci-extend-bosh-lite-diego-stub/scripts/ci/extend-bosh-lite-diego-stub
        push: true

- name: build-create-binaries-manifest-section-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-binaries-manifest-section
        trigger: true
    - put: create-binaries-manifest-section-pipeline-image
      params:
        build: runtime-ci-create-binaries-manifest-section/scripts/ci/create-binaries-manifest-section
        push: true

- name: build-extract-cloudformation-properties-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extract-cloudformation-properties
        trigger: true
    - put: extract-cloudformation-properties-pipeline-image
      params:
        build: runtime-ci-extract-cloudformation-properties/scripts/ci/extract-cloudformation-properties
        push: true

- name: build-extend-deployment-manifest-with-security-groups-and-elb-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-extend-deployment-manifest-with-security-groups-and-elb
        trigger: true
    - put: extend-deployment-manifest-with-security-groups-and-elb-pipeline-image
      params:
        build: runtime-ci-extend-deployment-manifest-with-security-groups-and-elb/scripts/ci/extend-deployment-manifest-with-security-groups-and-elb
        push: true

- name: build-commit-generated-manifest-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-commit-generated-manifest
        trigger: true
    - put: commit-generated-manifest-pipeline-image
      params:
        build: runtime-ci-commit-generated-manifest/scripts/ci/commit-generated-manifest
        push: true

- name: build-fast-forward-master-to-develop-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-fast-forward-master-to-develop
        trigger: true
    - put: fast-forward-master-to-develop-pipeline-image
      params:
        build: runtime-ci-fast-forward-master-to-develop/scripts/ci/fast-forward-master-to-develop
        push: true

- name: build-create-final-release-bucket-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-final-release-bucket
        trigger: true
    - put: create-final-release-bucket-pipeline-image
      params:
        build: runtime-ci-create-final-release-bucket/scripts/ci/create-final-release-bucket
        push: true

- name: build-write-build-url-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-build-url
        trigger: true
    - put: write-build-url-pipeline-image
      params:
        build: runtime-ci-write-build-url/scripts/ci/write-build-url
        push: true

- name: build-verify-nameserver-has-record-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-verify-nameserver-has-record
        trigger: true
    - put: verify-nameserver-has-record-pipeline-image
      params:
        build: runtime-ci-verify-nameserver-has-record/scripts/ci/verify-nameserver-has-record
        push: true

- name: build-write-director-version-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-write-director-version
        trigger: true
    - put: write-director-version-pipeline-image
      params:
        build: runtime-ci-write-director-version/scripts/ci/write-director-version
        push: true

- name: build-untar-release-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-untar-release
        trigger: true
    - put: untar-release-pipeline-image
      params:
        build: runtime-ci-untar-release/scripts/ci/untar-release
        push: true

- name: build-build-metadata-resource-docker-image
  public: true
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-build-metadata-resource
        trigger: true
    - put: build-metadata-resource-pipeline-image
      params:
        build: runtime-ci-build-metadata-resource/resources/build-metadata-resource
        push: true

- name: build-setup-infrastructure-terraform-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-setup-infrastructure-terraform
        trigger: true
    - put: setup-infrastructure-terraform-pipeline-image
      params:
        build: runtime-ci-setup-infrastructure-terraform/scripts/ci/setup-infrastructure-terraform
        push: true

- name: build-create-gcp-bosh-director-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-create-gcp-bosh-director
        trigger: true
    - put: create-gcp-bosh-director-pipeline-image
      params:
        build: runtime-ci-create-gcp-bosh-director/scripts/ci/create-gcp-bosh-director
        push: true

- name: build-destroy-gcp-bosh-director-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-destroy-gcp-bosh-director
        trigger: true
    - put: destroy-gcp-bosh-director-pipeline-image
      params:
        build: runtime-ci-destroy-gcp-bosh-director/scripts/ci/destroy-gcp-bosh-director
        push: true

- name: build-update-gcp-cloud-config-docker-image
  public: true
  build_logs_to_retain: 100
  plan:
  - timeout: 4h
    do:
    - aggregate:
      - get: weekly
        trigger: true
      - get: trigger-resource
        trigger: true
        passed: [trigger-all-image-builds]
      - get: runtime-ci-update-gcp-cloud-config
        trigger: true
    - put: update-gcp-cloud-config-pipeline-image
      params:
        build: runtime-ci-update-gcp-cloud-config/scripts/ci/update-gcp-cloud-config
        push: true
