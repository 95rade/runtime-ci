#!/bin/bash

cat << EOF > output/manifest.yml
director_uuid: c3e3311f-08c9-4809-8083-4aa184fd24da

name: bosh-lite-diego-cats

releases:
- name: cf
  version: latest

networks:
- name: default
  type: dynamic
  cloud_properties:
    subnet: subnet-48c86563
    security_groups:
    - cf

resource_pools:
- name: xlarge_errand
  network: default
  stemcell:
    name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
    version: latest
  cloud_properties:
    availability_zone: us-east-1b
    instance_type: c3.xlarge

compilation:
  network: default
  reuse_compilation_vms: true
  workers: 6
  cloud_properties:
    availability_zone: us-east-1b
    instance_type: c3.large

update:
  canaries: 1
  canary_watch_time: 30000-600000
  max_in_flight: 3
  serial: false
  update_watch_time: 5000-600000

jobs:
- name: diego-cats
  networks:
  - name: default
  resource_pool: xlarge_errand
  templates:
  - name: acceptance-tests
    release: cf
  instances: 1
  lifecycle: errand

properties:
  acceptance_tests:
    admin_password: admin
    admin_user: admin
    api: api.a1.cf-app.com
    apps_domain: a1-app.cf-app.com
    backend: diego
    client_secret: xFZ4m8AaFwyspjr8
    include_backend_compatibility: false
    include_internet_dependent: true
    include_diego_docker: true
    include_diego_ssh: true
    include_logging: true
    include_route_services: false
    include_routing: true
    include_security_groups: true
    include_services: true
    include_sso: true
    include_v3: false
    nodes: 6
    skip_diego_unsupported_tests: true
    system_domain: a1.cf-app.com
    use_http: true
EOF
